:root{
  --bg:#7ec6c7;
  --board-bg:#2c3a3b;
  --center:#a9d7a3;
  --ink:#161b1c;
  --panel:#223033;
  --card:#1b2628;
  --accent:#e21f2f;

  /* üëá Casillas ENORMES (y a√∫n fluidas) */
  --cell: clamp(96px, 12vmin, 140px);

  /* Sidebar igual para conservar el layout */
  --sidebar: 290px;

  /* Centro m√°s peque√±o para ganar √°rea √∫til perimetral */
  --ring: 7%;
}

/* ===== Reset ===== */
*{ box-sizing:border-box }
html,body{ margin:0; height:100% }
body{
  background: var(--bg);
  color: var(--ink);
  font-family: 'Press Start 2P', system-ui, sans-serif;
  line-height: 1.35;
}

/* ===== Efecto CRT ===== */
.crt{ position:relative; }
.crt::after{
  content:""; position:absolute; inset:0;
  background: repeating-linear-gradient(0deg, rgba(0,0,0,.06), rgba(0,0,0,.06) 1px, transparent 1px, transparent 3px);
  pointer-events:none; mix-blend-mode:multiply;
}

/* ===== Header / Setup ===== */
.app-header{
  padding:12px 18px; display:flex; justify-content:space-between; align-items:center;
  border-bottom:4px solid var(--ink); background:linear-gradient(#9bd9da,#7ec6c7);
}
.logo-title{ display:flex; align-items:center; gap:12px }
.logo-title h1{ margin:0; font-size:28px; letter-spacing: 2px; color:var(--accent); text-shadow: 2px 2px 0 #000; }
.logo-title .mr{ width:48px; height:48px; image-rendering: pixelated; }

.setup{ display:flex; gap:10px; align-items:center; flex-wrap:wrap }
.setup input, .setup select{ font-family:inherit; font-size:12px; padding:6px; border:3px solid var(--ink); background:#fff }
.btn{ font-family:inherit; font-size:12px; padding:8px 10px; border:3px solid var(--ink);
  background:#fff; cursor:pointer; box-shadow:4px 4px 0 #0003; transition: transform .05s; }
.btn:active{ transform: translateY(1px) }
.btn-primary{ background:var(--accent); color:#fff }
.btn-danger{ background:#c62828; color:#fff }

/* ===== Layout (tablero + sidebar) ===== */
.layout{
  display:grid; grid-template-columns: 1fr var(--sidebar); gap:16px; padding:16px;
}

/* ===== Tablero ‚Äì tama√±o PRIORIZA ANCHO de ventana ===== */
/* En desktop el tablero puede exceder la altura de la ventana para lograr casillas m√°s grandes */
.board-wrap{
  background: var(--board-bg);

  /* En lugar de vmin, usamos viewport width menos el sidebar y m√°rgenes */
  width: min( calc(100vw - var(--sidebar) - 48px), 1400px );
  /* Si el contenedor principal tiene menos ancho, no sobrepasar */
  max-width: 100%;

  margin: 0 auto;
  border:4px solid var(--ink); border-radius:10px; padding:12px; position:relative;
  box-shadow: inset 0 0 0 6px #0004, 0 8px 0 #0003;
}

/* Grid 11x11 con casillas gigantes */
.board{
  display:grid;
  grid-template-columns: repeat(11, 1fr);   /* 1fr + tama√±o fijado por wrap */
  grid-template-rows:    repeat(11, 1fr);
  gap: 1px;                               /* m√≠nimo gap para ganar √°rea */
  aspect-ratio: 1 / 1;                    /* mantiene cuadrado */
  position:relative; width:100%;

  /* Forzamos que cada celda ‚Äúse sienta‚Äù grande: el truco est√° en el tama√±o del contenedor */
  /* Ajustamos el tama√±o m√≠nimo visual con padding interno por celda si hiciera falta */
}
.board.pixel{ image-rendering: pixelated; }

/* Aro central reducido para ampliar casillas del per√≠metro */
.board::after{
  content:""; position:absolute; inset: var(--ring);
  background: var(--center); border:4px solid var(--ink);
  box-shadow: inset 0 0 0 6px #0002; border-radius:8px;
}

/* ===== Casillas ===== */
.tile{
  position:relative; z-index:1; display:flex;
  background:#f2efe6; border:1.5px solid var(--ink);
  box-shadow: inset -2px -2px 0 #0002;
  min-width: var(--cell);  /* percepci√≥n de tama√±o por ancho */
  min-height: var(--cell); /* y por alto */
}
.tile .inner{
  width:100%; height:100%; display:flex; flex-direction:column; padding:4px;
}
.tile .stripe{
  height:12px; margin:-4px -4px 6px -4px; background:#000;
}

/* Texto grande y sin cortes raros */
.tile .name{
  font-size: clamp(12px, 1.35vmin, 16px);
  line-height: 1.22;
  text-align:center;
  white-space: normal;
  overflow-wrap: normal;
  word-break: keep-all;
  hyphens: none;
}

/* Marcadores / estado */
.tile .state{ position:absolute; top:6px; right:6px; font-size:10px; color:#000 }
.tile .build{ position:absolute; bottom:6px; right:6px; font-size:13px }

/* Orientaciones laterales */
.tile .inner{ writing-mode: horizontal-tb }
.tile.side-left  .inner{ writing-mode: vertical-rl; transform: rotate(180deg); }
.tile.side-right .inner{ writing-mode: vertical-rl; }
.tile.side-top   .inner{ writing-mode: horizontal-tb; }
.tile.side-bottom .inner{ writing-mode: horizontal-tb; }

/* Fichas m√°s grandes para estas casillas */
.tile .tokens{
  position:absolute; left:6px; bottom:6px; display:flex; flex-wrap:wrap; gap:5px; max-width:80%;
}
.token{ width:16px; height:16px; border:2px solid #000; border-radius:50%;
  display:flex; align-items:center; justify-content:center; color:#fff; font-size:9px; line-height:1;
  text-shadow: -1px 0 #000, 0 1px #000, 1px 0 #000, 0 -1px #000;
}

/* ===== Sidebar ===== */
.players-panel .player{ display:flex; gap:8px; padding:6px 8px; border-bottom:1px dashed #2e3d40 }
.players-panel .money{ margin-left:auto }
.card{ background: var(--panel); border:4px solid var(--ink); color:#eaf5f2; box-shadow: inset -4px -4px 0 #00000020, 0 8px 0 #0003; }
.ranking-panel button{ margin:8px }

/* ===== Footer ===== */
.footer{ text-align:center; padding:10px 6px; border-top:4px solid var(--ink); background:linear-gradient(#9bd9da,#7ec6c7); }

/* ===== Modales / Tooltip / Dados ===== */
.modal__backdrop{position:fixed; inset:0; background:#0008; display:flex; align-items:center; justify-content:center; z-index:1000}
.modal{ background:#fff; color:#000; border:4px solid var(--ink); border-radius:8px; padding:16px; min-width:320px; max-width:92vw; font-family: 'Press Start 2P', system-ui, sans-serif; }
.modal header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.modal h3{margin:0;font-size:14px}
.modal .actions{display:flex;gap:8px;justify-content:flex-end;margin-top:12px}
.modal button{padding:8px 12px;border-radius:6px;border:3px solid var(--ink);background:#eee;color:#000}
.modal button.primary{background:var(--accent);color:#fff}
.modal button.ghost{background:transparent}

.tooltip{ position: fixed; z-index: 1500; background: #fff; color:#000; border:4px solid var(--ink); border-radius:8px; padding:10px; max-width: 280px;
  box-shadow: 6px 6px 0 #0003; font-family: 'Press Start 2P', system-ui, sans-serif; }
.tooltip h4{ margin: 0 0 6px 0; font-size: 12px; }
.tooltip .row{ font-size: 10px; margin: 2px 0; }
.tooltip .stripe{ height:10px; margin:-6px -6px 6px -6px; border-bottom: 3px solid #000; }

.dice-row{ display:flex; gap:8px; align-items:center; margin-bottom:8px }
.last-roll{ font-size:12px }

/* ===== Responsivo ===== */
/* 1) Ligeramente m√°s peque√±o si el ancho total no da */
@media (max-width: 1400px){
  :root{ --cell: clamp(88px, 11vmin, 128px); }
  .board-wrap{ width: min( calc(100vw - var(--sidebar) - 40px), 1200px ); }
}
/* 2) En <= 1200px seguimos reduciendo para evitar sobre-flujo desmedido */
@media (max-width: 1200px){
  :root{ --cell: clamp(80px, 10vmin, 120px); --ring: 7.5%; }
  .board-wrap{ width: min( calc(100vw - var(--sidebar) - 32px), 1080px ); }
}
/* 3) En <= 980px pasamos a 1 columna: tablero arriba, sidebar abajo */
@media (max-width: 980px){
  .layout{ grid-template-columns: 1fr; }
  :root{ --sidebar: 100%; --cell: clamp(72px, 12vmin, 110px); --ring: 9%; }
  .board-wrap{ width: min(100vw - 24px, 100%); margin: 0 auto; }
}
/* 4) En m√≥viles compactos */
@media (max-width: 600px){
  :root{ --cell: clamp(60px, 14vmin, 96px); --ring: 10.5%; }
  .tile .name{ font-size: clamp(12px, 3vmin, 16px); }
}
/* Utilidad para ocultar contenedores */
.hidden{ display:none !important; }

/* Pantalla inicial a pantalla completa */
.start-screen{
  min-height: 100vh;
  display: grid;
  grid-template-rows: auto 1fr;
  background: var(--bg);
}
.start-inner{
  display:flex; align-items:center; justify-content:center; padding:24px;
}
.start-card{
  max-width: 960px; width: 100%;
  padding: 18px;
}

/* Form de jugadores del login */
.setup-row{
  display:flex; align-items:center; gap:10px; margin-bottom:12px;
}
.players-form > div{
  display:grid; grid-template-columns: 1fr 180px 120px;
  gap:10px; align-items:center; margin: 8px 0;
}
.players-form input.nick{
  padding:8px; border:3px solid var(--ink);
  font-family: inherit;
}
.players-form select.country{
  padding:8px; border:3px solid var(--ink);
  font-family: inherit;
}
.players-form input.color{
  height: 36px; border:3px solid var(--ink);
}
/* ===================== HERO LOGIN ===================== */
.start-screen{
  min-height: 100vh;
  display: grid;
  grid-template-rows: auto 1fr;
  background: var(--bg);
  padding: 16px;
}

/* T√≠tulo rojo grande */
.brand{
  margin: 0 0 12px 0;
  text-align: center;
  font-size: clamp(28px, 4.5vw, 44px);
  color: #ff1f2f;               /* rojo m√°s vivo */
  text-shadow: 2px 2px 0 #000;
  letter-spacing: 2px;
}

/* Contenedor del hero centrado */
.hero{
  display: grid;
  justify-content: center;
  margin-top: 6px;
}

/* Tarjeta central con la imagen y CTA */
.hero-card{
  display: grid;
  gap: 12px;
  justify-items: center;
  background: #bfe6ef;          /* celeste claro como tu captura */
  border: 4px solid var(--ink);
  padding: 14px;
  max-width: 440px;
  margin: 0 auto;
}

/* Marco de la imagen (doble borde retro) */
.hero-frame{
  padding: 8px;
  background: #d9f2f6;
  border: 4px solid var(--ink);
  box-shadow: inset 0 0 0 4px #000;
}
.hero-img{
  display: block;
  width: clamp(160px, 38vw, 260px);
  height: auto;
  image-rendering: pixelated;
  border: 4px solid var(--ink);
}

/* Eslogan */
.tagline{
  margin: 0;
  text-align: center;
  font-size: clamp(12px, 2.5vw, 14px);
  color: #000;
}

/* Bot√≥n grande */
.btn-lg{
  padding: 12px 18px;
  font-size: 14px;
  box-shadow: 4px 4px 0 #0003;
}

/* Tarjeta del setup debajo del hero */
.start-inner{
  display: flex; align-items: start; justify-content: center;
  padding: 16px 0 24px;
}
.start-card{
  max-width: 900px; width: 100%;
  background: #c8ecf4;
}
.setup-title{
  margin: 0 0 10px 0;
  text-align: center;
  color: #000;
}

/* Fila del select */
.setup-row{
  display:flex; justify-content:center; gap:10px; margin-bottom:12px;
}
#playerCount{
  font-family: inherit; font-size: 14px;
  padding: 10px; min-width: 220px;
  border: 3px solid var(--ink); background: #fff;
}

/* Form de jugadores */
.players-form > div{
  display:grid; grid-template-columns: 1fr 180px 120px;
  gap: 10px; align-items: center; margin: 8px 0;
}
.players-form input.nick{ padding:8px; border:3px solid var(--ink); font-family: inherit; }
.players-form select.country{ padding:8px; border:3px solid var(--ink); font-family: inherit; }
.players-form input.color{ height: 36px; border:3px solid var(--ink); }

/* Responsive */
@media (max-width: 640px){
  .players-form > div{ grid-template-columns: 1fr 1fr 100px; }
  #playerCount{ min-width: 0; width: 100%; }
  .hero-card{ max-width: 96vw; }
}

